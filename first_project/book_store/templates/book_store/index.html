{% extends 'book_store/base.html' %}
{% load static %}

{% block title %}Home - Book Store{% endblock %}

{% block content %}
<!-- Welcome Section -->
<div class="welcome-section">
    <h1 class="display-4">Welcome to Our Book Store!</h1>
    <p class="lead">Discover amazing books at great prices.</p>
    <hr class="my-4" style="border-color: rgba(255,255,255,0.3);">
    <!-- Template variable example -->
    <p>We have <strong>{{ total_products }}</strong> products available.</p>
    <a class="btn btn-light btn-lg" href="{% url 'products' %}" role="button">Browse Products â†’</a>
</div>

<!-- Featured Products Section -->
<div class="row">
    <div class="col-md-12 mb-4">
        <h2>Featured Products</h2>
        <p class="text-muted">Check out our most popular items</p>
    </div>
    
    <!-- Template for loop example -->
    {% for product in featured_products %}
    <div class="col-md-4 mb-4">
        <div class="product-card" data-product-id="{{ product.id }}">
            <h5>{{ product.name }}</h5>
            <!-- Template filter example: truncatewords limits text length -->
            <p class="text-muted">{{ product.description|truncatewords:10 }}</p>
            <span class="category-badge">{{ product.category }}</span>
            <!-- Template filter example: floatformat controls decimal places -->
            <div class="price mt-2">${{ product.price|floatformat:2 }}</div>
        </div>
    </div>
    {% empty %}
    <!-- This shows if no products exist -->
    <div class="col-md-12">
        <div class="alert alert-info">
            <h4>No featured products yet!</h4>
            <p>Check back later for amazing deals.</p>
        </div>
    </div>
    {% endfor %}
</div>

<!-- Quick Stats Section -->
<div class="row mt-5">
    <div class="col-md-4">
        <div class="text-center p-3 bg-light rounded">
            <h3 class="text-primary">{{ total_products }}</h3>
            <p>Total Products</p>
        </div>
    </div>
    <div class="col-md-4">
        <div class="text-center p-3 bg-light rounded">
            <h3 class="text-success">{{ categories_count }}</h3>
            <p>Categories</p>
        </div>
    </div>
    <div class="col-md-4">
        <div class="text-center p-3 bg-light rounded">
            <h3 class="text-info">24/7</h3>
            <p>Support</p>
        </div>
    </div>
</div>
{% endblock %}
